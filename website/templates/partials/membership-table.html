<!--
Copyright 2022 Owen M. Jones. All rights reserved.

This file is part of MemberZone.

MemberZone is free software: you can redistribute it and/or modify it under the terms of the GNU Affero General Public License
as published by the Free Software Foundation, either version 3 of the License, or (at your option) any later version.

MemberZone is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty 
of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Affero General Public License for more details.

You should have received a copy of the GNU Affero General Public License along with MemberZone. If not, see <https://www.gnu.org/licenses/>.
-->
{%  if not object_list %}
  <tr>
    <td colspan="5" class="text-center italic text-lg text-gray-600">Nothing to see here</td>
  </tr>
{% else %}
  {% for membership in object_list %}
    <tr class="h-auto">
      <th class="bg-white dropdown dropdown-right dropdown-end mt-1 -mb-1">
        <label tabindex="0"><a class="link cursor-pointer">{{ membership.membership_name }}</a></label>
        <ul tabindex="0" class="dropdown-content menu p-2 shadow bg-base-100 rounded-box w-24">
          <li>
            <a hx-get="{% url 'edit-membership' membership.pk %}" hx-target="#modal"
               _="on htmx:afterRequest add .modal-open to modal">
              Edit
            </a>
          </li>
          <li>
            <a hx-post="{% url 'delete-membership' membership.pk %}"
               hx-confirm="Are you sure you want to delete the membership '{{ membership.membership_name }}'?"
               hx-target="closest tr" hx-swap="delete">
              Delete
            </a>
          </li>
        </ul>
      </th>
      <td>{{ membership.membership_type|title }}</td>
      <td>{{ membership.renewal_date }}</td>
      <td class="hidden sm:table-cell items-center">
        <input type="checkbox"
               class="checkbox checkbox-primary border-gray-400 mt-1"
               {% if membership.reminder %}checked{% endif %}
               hx-patch="{% url 'toggle-reminders' membership.pk %}"
               hx-swap="none"/>
      </td>
      <td class="hidden sm:table-cell">{{ membership.cost }}</td>
    </tr>
  {% endfor %}
{% endif %}
